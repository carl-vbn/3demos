{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <meta id="csrf-token" name="csrf-token" content="{{csrf_token}}">

        <title>3Demos</title>

        <link rel="icon" type="image/png" href="{% static 'mathplayground/favicon.png' %}">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
              rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
              crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="{% static 'mathplayground/global.css' %}">
        <link rel="stylesheet" href="{% static 'mathplayground/build/bundle.css' %}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
        
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
        
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

        <script>
            window.STATIC_PREFIX = '{% static 'mathplayground' %}';
            {% if request.session %}
            window.SESSION_KEY = '{{ request.session.session_key }}';
            {% endif %}

            {% if scene_state %}
            // Initial scene state loaded from Redis
            window.SCENE_STATE = {{scene_state|safe}};
            {% endif %}
        </script>

        <script defer src="{% static 'mathplayground/build/bundle.js' %}"></script>
        {% if GA_CODE %}
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id={{GA_CODE}}"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', '{{GA_CODE}}', { 'anonymize_ip': true });
            </script>
        {% endif %}        
    </head>
    <body>
    </body>
</html>
